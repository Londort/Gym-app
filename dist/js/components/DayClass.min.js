import ExerciseGroup from"./ExerciseGroup.min.js";export default class DayScreen{constructor(index){this.gymApp=JSON.parse(localStorage.getItem("GymApp")),this.index=index,this.element=document.createElement("div"),this.element.classList.add("day-screen"),this.renderDay(),this.sections=this.element.querySelector(".day-screen__sections")}renderDay(){this.element.innerHTML=`\n        <div class="day-screen__wrap">\n        <div class="day-screen__body">\n        <div class="day-screen__header">\n        <span>Day ${this.index+1}</span>\n        <button class="day-screen__new-group">+New Group</button>\n        </div>\n        <div class="day-screen__sections"></div>\n        <div class="day-screen__footer">\n        <button class="day-screen__delete">Delete Day</button>\n        </div>\n        </div>\n        </div>\n        `,document.querySelector("main").append(this.element),this.delete(),this.newGroupBtn(),this.renderGroups()}renderGroups(){this.gymApp[this.index].length>0&&this.gymApp[this.index].forEach((groupData=>{new ExerciseGroup(groupData)}))}delete(){this.element.querySelector(".day-screen__delete").addEventListener("click",(e=>{e.preventDefault(),this.gymApp[this.index]&&(this.gymApp.splice(this.index,1),localStorage.setItem("GymApp",JSON.stringify(this.gymApp))),this.element.remove()}))}newGroupBtn(){document.body.querySelector(".day-screen__new-group").addEventListener("click",(()=>{console.log("new group"),this.gymApp[this.index].push({title:"Exercise group",exercises:[]}),localStorage.setItem("GymApp",JSON.stringify(this.gymApp))}))}}